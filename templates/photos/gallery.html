{%extends 'base.html' %}

{%block title%}photo gallery {%endblock%}

{%block content%}


<div class="photo-header">

  <div class="header-text">
    <h1>upload your photo on our website</h1>
  </div>
  <div class="photo-header" style= 'background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.8)), url("../static/img/photoholgic-8pjAj47IjHM-unsplash.jpg"); height: 850px; object-fit: cover; '>
    <form class="d-flex search-form" role="search"  action="{%url 'search' %}">
     
      <input id="searched"  class="form-control me-2"  placeholder="Search" name="searched" >
     <button type="submit search-btn"><i class="fa-solid fa-magnifying-glass"></i></button> 
    </form>
  </div>
</div>

<div class="gallery-head">


<div class="container">
    <div class="row align-items-center">
        <div class="col-md-2">
            <div class="card" >
                <div class="card-header add_photo-btn">
                  Categories
                </div>
                <ul class="list-group list-group-flush">
                
                  <li class="list-group-item">
                    <a href="{%url 'gallery' %}">all</a>
                  </li>
                    {%for cat in categories %}

                    <li class="list-group-item">
                      <a href="{%url 'gallery' %}?category={{cat.name}}"> {{cat.name}}</a>
                     </li>
                    {%endfor%}
                  <li class="list-group-item"><a style="color: white;" class="add_photo-btn" href="{%url 'add_photo' %}">add photo</a>  </li>
                </ul>
              </div>
        </div>
        <div class="col-md-10">
                <div class="row ">
                    {%for photo in photos %}

                    <div class="col-md-4">
                     
                      
                     
                        <div class="card my-2" >
                          
                            <img src="{{photo.image.url}}" class="card-img-top " alt="...">
                            
                            <div class="card-body">
                            <a href="{%url 'categories' photo.category.id|slugify %}"><small class="text-muted">Category: {{photo.category.name}}</small></a>  
                            
                            </div>
                            <a href="{%url 'photo' photo.slug %}" class="btn-view">view</a>
                        
                          </div>
                       
                    </div>
                    {%empty%}
                      <h3 class="text-center">the category of this gallery is empty... start <a class="text-danger" href="{%url 'add_photo' %}">adding photos</a></h3>
                    {%endfor%}
                </div>
        </div>
    </div>
</div>
</div>


  
{%endblock%}